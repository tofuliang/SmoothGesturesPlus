!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([,function(){!function(){var e={};for(a in console)e[a]=console[a];if("update_url"in chrome.runtime.getManifest())for(a in console)console[a]=function(){};var t="Smooth Gestures Plus"!=chrome.runtime.getManifest().short_name,n="update_url"in chrome.runtime.getManifest()?"kdcjmllhmhnnadianfhhnoefgcdbpdap":"jacdflckbpegapaejbcoimimdeephahh"==chrome.runtime.id?"ijgdgeacmjiigjjepffiijkleklaapfl":"ijgdgeacmjiigjjepffiijkleklaapfl",o={};if(t)chrome.extension.sendMessage(n,{storage:!0},function(e){e&&e.gestures&&e.validGestures&&(o=e,c())});else{chrome.storage.local.get(null,function(e){o=e,c()});var i=function(e,t){if("local"==t)for(key in e)o[key]=e[key].newValue};chrome.storage.onChanged.addListener(i)}chrome.runtime.onMessage.addListener(function(e,t,n){e.ping&&n({pong:!0})});var l=function(){var e=this;e.callback=null;var i=Math.floor(Math.random()*Math.pow(2,30)).toString(32)+Math.floor(Math.random()*Math.pow(2,30)).toString(32);e.isId=function(e){return i==e},e.postMessage=function(e,t){i==e&&r&&r.postMessage(t)};var l=!1,r=null,a=null,s=null,d={},c=!1,u={},m={},h=!0,g=!1,w="0000",f=!1,y=null;e.connect=function(){var o={name:JSON.stringify({name:"smoothgestures.tab",frame:!parent,id:i,url:location.href})};window.SGextId&&(r=chrome.runtime.connect(window.SGextId,o)),r=t?chrome.runtime.connect(n,o):chrome.runtime.connect(o),r&&(r.onMessage.addListener(p),r.onDisconnect.addListener(e.disable))};var p=function(t){"enable"in t&&(t.enable?O():e.disable()),t.disable&&e.disable(),t.action&&localAction(t.action),t.windowBlurred&&(u={},m={},h=!0,z()),t.chain&&(D(t.chain.startPoint,t.chain.startPoint?document.elementFromPoint(t.chain.startPoint.x,t.chain.startPoint.y):null,t.chain.line,t.chain.rocker,t.chain.wheel,1e4),h=!0,t.chain.buttonDown&&(t.chain.buttonDown[0]&&(m[0]=!0),t.chain.buttonDown[1]&&(m[1]=!0),t.chain.buttonDown[2]&&(m[2]=!0),void 0==u[0]&&(u[0]=t.chain.buttonDown[0]),void 0==u[1]&&(u[1]=t.chain.buttonDown[1]),void 0==u[2]&&(u[2]=t.chain.buttonDown[2]))),t.syncButton&&(u[t.syncButton.id]=t.syncButton.down),t.displayAlert&&alert(t.displayAlert)};localAction=function(e){if("page-back"==e.id)history.back();else if("page-forward"==e.id)history.forward();else if("page-back-close"==e.id){var t=location.href;history.back(),e.has_history||setTimeout(function(){t==location.href&&r.postMessage({closetab:!0})},400)}else if("stop"==e.id)window.stop();else if("print"==e.id)window.print();else if("goto-top"==e.id){for(var n=e.startPoint?document.elementFromPoint(e.startPoint.x,e.startPoint.y):document.documentElement;n!=document.documentElement&&n.parentNode&&(n.scrollHeight<=n.clientHeight||0==n.scrollTop||-1==["auto","scroll"].indexOf(document.defaultView.getComputedStyle(n)["overflow-y"]));)n=n.parentNode;n==document.documentElement&&(document.body.scrollTop=0),n.scrollTop=0}else if("goto-bottom"==e.id){for(var n=e.startPoint?document.elementFromPoint(e.startPoint.x,e.startPoint.y):document.documentElement;n!=document.documentElement&&n.parentNode&&(n.scrollHeight<=n.clientHeight||n.scrollTop==n.scrollHeight-n.clientHeight||-1==["auto","scroll"].indexOf(document.defaultView.getComputedStyle(n)["overflow-y"]));)n=n.parentNode;n==document.documentElement&&(document.body.scrollTop=document.body.scrollHeight),n.scrollTop=n.scrollHeight}else if("page-up"==e.id){for(var n=e.startPoint?document.elementFromPoint(e.startPoint.x,e.startPoint.y):document.documentElement;n!=document.documentElement&&n.parentNode&&(n.scrollHeight<=n.clientHeight||0==n.scrollTop||-1==["auto","scroll"].indexOf(document.defaultView.getComputedStyle(n)["overflow-y"]));)n=n.parentNode;n==document.documentElement&&(document.body.scrollTop-=.8*Math.min(document.documentElement.clientHeight,document.body.clientHeight)),n.scrollTop-=.8*Math.min(document.documentElement.clientHeight,n.clientHeight)}else if("page-down"==e.id){for(var n=e.startPoint?document.elementFromPoint(e.startPoint.x,e.startPoint.y):document.documentElement;n!=document.documentElement&&n.parentNode&&(n.scrollHeight<=n.clientHeight||n.scrollTop==n.scrollHeight-n.clientHeight||-1==["auto","scroll"].indexOf(document.defaultView.getComputedStyle(n)["overflow-y"]));)n=n.parentNode;console.log("scroll",n,n.scrollTop,document.body.scrollTop,document.documentElement.clientHeight,document.body.clientHeight,n.clientHeight),n==document.documentElement&&(document.body.scrollTop+=.8*Math.min(document.documentElement.clientHeight,document.body.clientHeight)),console.log("scroll2",n.scrollTop,document.body.scrollTop),n.scrollTop+=.8*Math.min(document.documentElement.clientHeight,n.clientHeight),console.log("scroll3",n.scrollTop,document.body.scrollTop)}else if("zoom-in-hack"==e.id){var o=document.body.style.zoom?1.1*document.body.style.zoom:1.1;document.body.style.zoom=o,a.style.zoom=1/o}else if("zoom-out-hack"==e.id){var o=document.body.style.zoom?document.body.style.zoom/1.1:1/1.1;document.body.style.zoom=o,a.style.zoom=1/o}else if("zoom-zero-hack"==e.id)document.body.style.zoom=1,a.style.zoom=1;else if("zoom-img-in"==e.id)for(var i=0;i<e.images.length;i++){var l=$("img[gestureid='"+e.images[i].gestureid+"']");l.attr("origsize")||l.attr("origsize",l.width()+"x"+l.height()),l.css({width:1.2*l.width(),height:1.2*l.height()})}else if("zoom-img-out"==e.id)for(var i=0;i<e.images.length;i++){var l=$("img[gestureid='"+e.images[i].gestureid+"']");l.attr("origsize")||l.attr("origsize",l.width()+"x"+l.height()),l.css({width:l.width()/1.2,height:l.height()/1.2})}else if("zoom-img-zero"==e.id)for(var i=0;i<e.images.length;i++){var l=$("img[gestureid='"+e.images[i].gestureid+"']");if(!l.attr("origsize"))return;var s=l.attr("origsize").split("x");l.css({width:s[0]+"px",height:s[1]+"px"})}else if("hide-image"==e.id)for(var i=0;i<e.images.length;i++)$("img[gestureid='"+e.images[i].gestureid+"']").css({display:"none"})};var v=function(t){if(m[t.button]=!1,h=2!=t.button,t.target&&"HTML"==t.target.nodeName&&(document.height>window.innerHeight&&t.clientX>window.innerWidth-17||document.width>window.innerWidth&&t.clientY>window.innerHeight-17))return void z();if(c&&r.postMessage({syncButton:{id:t.button,down:!0}}),u[t.button]=!0,g){if(2==t.button)return void z();g=!1}if(S(t),d.rocker&&(u[0]?1:0)+(u[1]?1:0)+(u[2]?1:0)==2){var n,i;if(u[0]&&(0==t.button?i="L":n="L"),u[1]&&(1==t.button?i="M":n="M"),u[2]&&(2==t.button?i="R":n="R"),e.callback||o.validGestures.r[n]&&o.validGestures.r[n][i])return c={timeout:setTimeout(function(){c=!1},500)},G("r"+n+i),window.getSelection().removeAllRanges(),h=!0,m[0]=!0,m[1]=!0,m[2]=!0,t.preventDefault(),void t.stopPropagation()}o.contextOnLink&&2==t.button&&R(t.target)||(0!=o.holdButton||0!=t.button||"SELECT"!=t.target.nodeName)&&(0!=o.holdButton||"0"==w[0]&&"0"==w[1]&&"0"==w[2]&&!f)&&(0==o.holdButton&&0==t.button&&"IMG"==t.target.nodeName&&t.preventDefault(),1==t.button&&(o.validGestures.r.M||window.SG.callback)&&-1!=navigator.platform.indexOf("Win")&&t.preventDefault(),D({x:t.clientX,y:t.clientY},t.target,t.button==o.holdButton,(u[0]?1:0)+(u[1]?1:0)+(u[2]?1:0)==1&&(e.callback||o.validGestures.r&&(u[0]&&o.validGestures.r.L||u[1]&&o.validGestures.r.M||u[2]&&o.validGestures.r.R)),t.button==o.holdButton&&(e.callback||o.validGestures.w)))},b=function(e){if(e.button==o.holdButton&&(d.line&&S(e,!0),d.line&&""!=d.line.code&&(G(d.line.code),e.preventDefault(),0==e.button&&window.getSelection().removeAllRanges(),2==e.button&&(h=!0),m[e.button]=!0)),d.line=null,d.wheel=null,2!=e.button&&(h=!0),!(2!=e.button||g||h||u[0]||u[1]||-1!=navigator.platform.indexOf("Win"))){g=!0,setTimeout(function(){g=!1},600);var t={x:e.screenX,y:e.screenY};navigator.userAgent.match(/linux/i)&&(e.screenX<window.screenLeft+Math.round(e.clientX*window.devicePixelRatio)||0==window.screenLeft&&e.screenY<55+window.screenTop+Math.round(e.clientY*window.devicePixelRatio))&&(t.x+=window.screenLeft,t.y+=window.screenTop),console.log("SEND NATIVE",t),r.postMessage({nativeport:{rightclick:t}})}m[e.button]&&e.preventDefault(),u[e.button]=!1,c&&r.postMessage({syncButton:{id:e.button,down:!1}}),u[0]||u[2]||(d.rocker=null),d.rocker||z()},x=function(){u={}},k=function(e){m[e.button]&&(e.preventDefault(),e.stopPropagation()),m[e.button]=!1},M=function(e){(h||u[2]&&(d.line||d.rocker||d.wheel))&&!g?(e.preventDefault(),e.stopPropagation(),h=!1):(z(),u={})},P=function(){0!=o.holdButton||"0"!=w[0]||"0"!=w[1]||"0"!=w[2]||f||window.getSelection().removeAllRanges()},E=function(){a.width=window.innerWidth,a.height=window.innerHeight},L=function(t){if(27==t.keyCode){z(),f=!0;var n=function(){f=!1,window.removeEventListener("keyup",n,!0)};window.addEventListener("keyup",n,!0)}var i=(t.ctrlKey?"1":"0")+(t.altKey?"1":"0")+(t.shiftKey?"1":"0")+(t.metaKey?"1":"0");if(16==t.keyCode||17==t.keyCode||18==t.keyCode||0==t.keyCode||91==t.keyCode||92==t.keyCode||93==t.keyCode){var l=16==t.keyCode?2:17==t.keyCode?0:18==t.keyCode?1:0==t.keyCode?null:91==t.keyCode?null:92==t.keyCode?null:93==t.keyCode?null:null;if(null!=l){i=i.substr(0,l)+"1"+i.substr(l+1);var n=function(){w=w.substr(0,l)+"0"+w.substr(l+1),window.removeEventListener("keyup",n,!0)};window.addEventListener("keyup",n,!0)}w=i}else(e.callback||("0000"!=i||null==y||"INPUT"!=y.nodeName&&"TEXTAREA"!=y.nodeName)&&o.validGestures.k&&o.validGestures.k[i]&&o.validGestures.k[i].indexOf(t.keyIdentifier+":"+t.keyCode)>=0)&&(D(null,null,!1,!1,!1),G("k"+i+":"+t.keyIdentifier+":"+t.keyCode),t.preventDefault(),t.stopPropagation())},T=function(e){e.target.nodeName&&(y=e.target)},C=function(e){e.target.nodeName&&(y=null)},D=function(e,t,n,i,l){if(z(),d.events||(window.addEventListener("mousemove",S,!0),window.addEventListener("mousewheel",N,!0),d.events=!0),"mail.google.com"==location.hostname){var r=document.body.children[1],a=function(){z(),r.removeEventListener("DOMSubtreeModified",a,!0)};r.addEventListener("DOMSubtreeModified",a,!0)}d.startPoint=e?{x:e.x,y:e.y}:null,d.targets=t?[t]:[];var c=window.getSelection();d.selection=c.toString(),d.ranges=[];for(var u=0;u<c.rangeCount;u++)d.ranges.push(c.getRangeAt(u));d.timeout=null,d.line=n&&e?{code:"",points:[{x:e.x,y:e.y}],dirPoints:[{x:e.x,y:e.y}],possibleDirs:o.validGestures,distance:0}:null,d.rocker=i,d.wheel=l,document.documentElement.offsetHeight<document.documentElement.scrollHeight&&(d.line||d.wheel)&&!s.parentNode&&document.body.appendChild(s)},S=function(t,n){if(d.startPoint||(d.startPoint={x:t.clientX,y:t.clientY}),(d.rocker||d.wheel)&&(Math.abs(t.clientX-d.startPoint.x)>0||Math.abs(t.clientY-d.startPoint.y)>2)&&(d.rocker=null,d.wheel=null),d.line){var i={x:t.clientX,y:t.clientY},l=d.line.points[d.line.points.length-1];d.line.points.push(i),d.line.distance+=Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2));var r=i.x-d.line.dirPoints[d.line.dirPoints.length-1].x,s=i.y-d.line.dirPoints[d.line.dirPoints.length-1].y;!o.trailBlock&&a.getContext&&(j(),!a.parentNode&&(Math.abs(r)>10||Math.abs(s)>10)&&document.body.appendChild(a));var c=""==d.line.code?"X":d.line.code.substr(-1,1),u=H(d.line.dirPoints[d.line.dirPoints.length-1],i);u==c?d.line.dirPoints[d.line.dirPoints.length-1]=i:(Math.abs(r)>25||Math.abs(s)>25)&&(n||u.match(/^[RLUD]$/))&&(d.line.possibleDirs&&(d.line.possibleDirs=d.line.possibleDirs[u]),d.line.possibleDirs||e.callback?(d.line.code+=u,d.line.dirPoints.push(i)):(z(),h=!0))}},H=function(e,t){var n=t.x-e.x,o=t.y-e.y;return Math.abs(n)>2*Math.abs(o)?n>0?"R":"L":Math.abs(o)>2*Math.abs(n)?o>0?"D":"U":0>o?n>0?"9":"7":n>0?"3":"1"},N=function(t){if(("IFRAME"==t.target.nodeName||"FRAME"==t.target.nodeName)&&z(),S(t),d.wheel&&0!=t.wheelDelta){var n=t.wheelDelta>0?"U":"D";(e.callback||o.validGestures.w[n])&&(c={timeout:setTimeout(function(){c=!1},500)},G("w"+n),2==o.holdButton&&(h=!0),0==o.holdButton&&window.getSelection().removeAllRanges(),m[o.holdButton]=!0,t.preventDefault(),t.stopPropagation())}},G=function(t){if(t)if(e.callback)e.callback(t),e.callback=null;else{var n={gesture:t,startPoint:d.startPoint,targets:[],links:[],images:[],selection:d.selection};if(d.line&&"w"!=t[0]&&"r"!=t[0]&&(n.line={distance:d.line.distance,segments:t.length}),o.selectToLink&&d.selection){parts=d.selection.split("http");for(var i=1;i<parts.length;i++){var l="http"+parts[i];l=l.split(/[\s"']/)[0],l.match(/\/\/.+\..+/)&&n.links.push({src:l})}}for(var i=0;i<d.targets.length;i++){var a=Math.floor(Math.random()*Math.pow(2,30)).toString(32);d.targets[i].setAttribute("gestureid",a),n.targets.push({gestureid:a});var l=R(d.targets[i]);l&&n.links.push({src:l,gestureid:a}),"IMG"==d.targets[i].nodeName&&n.images.push({src:d.targets[i].src,gestureid:a})}c&&(n.buttonDown=u),r.postMessage(n);{d.targets}}if("w"==t[0])d.line=null,d.rocker=null;else if("r"==t[0])d.line=null,d.wheel=null;else{if(d.ranges&&d.ranges.length>0){var s=window.getSelection();s.removeAllRanges();for(var i=0;i<d.ranges.length;i++)s.addRange(d.ranges[i])}z()}},z=function(){d.events&&(window.removeEventListener("mousemove",S,!0),window.removeEventListener("mousewheel",N,!0),d.events=!1),a.parentNode&&a.parentNode.removeChild(a),a.getContext&&a.getContext("2d").clearRect(0,0,a.width,a.height),s.parentNode&&s.parentNode.removeChild(s),clearTimeout(d.timeout),d.timeout=null,d.selection=null,d.ranges=null,d.line=null,d.rocker=null,d.wheel=null},R=function(e){for(;e;){if(e.href)return e.href;e=e.parentNode}return null},j=function(){if(!j.timeout){var e=Date.now()-A.lasttime,t=Math.min(500,4*A.runtime);e>t?A():j.timeout=setTimeout(function(){A(),j.timeout=null},t-e)}},A=function(){if(a.getContext){var t=Date.now(),n=a.getContext("2d");if(n.clearRect(0,0,a.width,a.height),d.line){if(n.strokeStyle="rgba("+o.trailColor.r+","+o.trailColor.g+","+o.trailColor.b+","+o.trailColor.a+")",n.lineWidth=o.trailWidth,n.lineCap="butt",n.lineJoin="round",n.shadowBlur=o.trailWidth,n.shadowColor="rgba(255,255,255,.3)",o.trailLegacy){n.beginPath(),n.moveTo(d.line.points[0].x,d.line.points[0].y);for(var i=1;i<d.line.points.length;i++)n.lineTo(d.line.points[i].x,d.line.points[i].y);n.stroke()}else{{var l={x:d.line.dirPoints[0].x,y:d.line.dirPoints[0].y},r=d.line.points[d.line.points.length-1],s=d.line.dirPoints[d.line.dirPoints.length-1],c=H(s,r);Math.max(Math.abs(r.x-s.x),Math.abs(r.y-s.y))>25&&c.match(/^[1379]$/)}n.beginPath(),d.line.code.length>0&&("L"==d.line.code[0]||"R"==d.line.code[0]?l.y=d.line.dirPoints[1].y:l.x=d.line.dirPoints[1].x),n.moveTo(l.x,l.y);for(var i=1;i<d.line.code.length;i++){var u=d.line.code[i-1],m=d.line.code[i],h=d.line.dirPoints[i],g=d.line.dirPoints[i+1];if("L"==u||"R"==u)if("L"==m||"R"==m){var w=Math.min(Math.abs(h.x-l.x),Math.abs(g.y-l.y)/2);n.arcTo(h.x,l.y,h.x,g.y,w),w=Math.min(Math.abs(g.x-h.x),Math.abs(g.y-l.y)-w),n.arcTo(h.x,g.y,g.x,g.y,w),l.x=(h.x+g.x)/2,l.y=g.y,n.lineTo(l.x,l.y)}else{var f=g.y;("L"==d.line.code[i+1]||"R"==d.line.code[i+1])&&(f=d.line.dirPoints[i+2].y);var w=Math.min(Math.abs(g.x-l.x),Math.abs(f-l.y)/2);n.arcTo(g.x,l.y,g.x,g.y,.8*w),l.x=g.x,l.y=(l.y+f)/2,n.lineTo(l.x,l.y)}else if("L"==m||"R"==m){var y=g.x;("U"==d.line.code[i+1]||"D"==d.line.code[i+1])&&(y=d.line.dirPoints[i+2].x);var w=Math.min(Math.abs(y-l.x)/2,Math.abs(g.y-l.y));n.arcTo(l.x,g.y,g.x,g.y,.8*w),l.x=(l.x+y)/2,l.y=g.y,n.lineTo(l.x,l.y)}else{var w=Math.min(Math.abs(g.x-l.x)/2,Math.abs(h.y-l.y));n.arcTo(l.x,h.y,g.x,h.y,w),w=Math.min(Math.abs(g.x-l.x)-w,Math.abs(g.y-h.y)),n.arcTo(g.x,h.y,g.x,g.y,w),l.x=g.x,l.y=(h.y+g.y)/2,n.lineTo(l.x,l.y)}}d.line.code.length>0&&(l=d.line.dirPoints[d.line.dirPoints.length-1],n.lineTo(l.x,l.y)),n.stroke(),(d.line.possibleDirs&&d.line.possibleDirs[c]||e.callback)&&("3"==c||"7"==c?n.lineTo((l.x-l.y+r.x+r.y)/2,(-l.x+l.y+r.x+r.y)/2):("1"==c||"9"==c)&&n.lineTo((l.x+l.y+r.x-r.y)/2,(l.x+l.y-r.x+r.y)/2),n.stroke())}A.lasttime=Date.now(),A.runtime=.9*(A.runtime||10)+.1*(A.lasttime-t)}}},B=function(){if("smoothgesturesplus.com"==location.hostname){var t=document.createElement("script");t.innerText="window.sgp = "+JSON.stringify({license:o.license,clid:o.id,firstinstalled:o.firstinstalled})+"; if(window.setSGP) window.setSGP();",document.head.appendChild(t)}window.addEventListener("focus",T,!0),window.addEventListener("blur",C,!0),e.connect(),a=document.createElement("canvas"),a.style&&(a.style.position="fixed",a.style.top=0,a.style.left=0,a.style.zIndex=999999999,a.style.background="transparent",a.style.margin="0",a.style.padding="0"),E(),s=document.createElement("div"),s.style.clear="both"},O=function(){l||(l=!0,window.addEventListener("mousedown",v,!0),window.addEventListener("mouseup",b,!0),window.addEventListener("dragend",x,!0),window.addEventListener("click",k,!0),window.addEventListener("contextmenu",M,!0),window.addEventListener("selectstart",P,!0),window.addEventListener("resize",E,!0),window.addEventListener("keydown",L,!0))};e.disable=function(){l&&(l=!1,window.removeEventListener("mousedown",v,!0),window.removeEventListener("mouseup",b,!0),window.removeEventListener("dragend",x,!0),window.removeEventListener("click",k,!0),window.removeEventListener("contextmenu",M,!0),window.removeEventListener("selectstart",P,!0),window.removeEventListener("resize",E,!0),window.removeEventListener("keydown",L,!0),r.onMessage.removeListener(p),r.onDisconnect.removeListener(e.disable))},e.enabled=function(){return l},B()};if(window.SGinjectscript&&window.SGinjectscript.constructor==HTMLScriptElement){var r=window.SGinjectscript.src.match(/([^a-p]|^)([a-p]{32})([^a-p]|$)/);r&&(window.SGextId=r[2]);for(var s=document.querySelectorAll("script[src^=chrome-extension\\:\\/\\/]"),d=0;d<s.length;d++)s[d].parentNode.removeChild(s[d])}var c=function(){window.SG?window.SG.enabled()||window.SG.connect():window.SG=new l}}()}]);