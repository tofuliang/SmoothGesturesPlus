!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([,function(e,t){!function(){var e={};for(a in console)e[a]=console[a];if("update_url"in chrome.runtime.getManifest())for(a in console)console[a]=function(){};var t="Smooth Gestures Plus"!=chrome.runtime.getManifest().short_name,n="update_url"in chrome.runtime.getManifest()?"kdcjmllhmhnnadianfhhnoefgcdbpdap":(chrome.runtime.id,"ijgdgeacmjiigjjepffiijkleklaapfl"),o={};if(t)chrome.extension.sendMessage(n,{storage:!0},function(e){e&&e.gestures&&e.validGestures&&(o=e,d())});else{chrome.storage.local.get(null,function(e){o=e,d()});chrome.storage.onChanged.addListener(function(e,t){if("local"==t)for(key in e)o[key]=e[key].newValue})}chrome.runtime.onMessage.addListener(function(e,t,n){e.ping&&n({pong:!0})});var i=function(){var e=this;e.callback=null;var i=Math.floor(Math.random()*Math.pow(2,30)).toString(32)+Math.floor(Math.random()*Math.pow(2,30)).toString(32);e.isId=function(e){return i==e},e.postMessage=function(e,t){i==e&&r&&r.postMessage(t)};var l=!1,r=null,s=null,a=null,d={},c=!1,u={},m={},h=!0,g=!1,w="0000",f=!1,y=null;e.connect=function(){var o={name:JSON.stringify({name:"smoothgestures.tab",frame:!parent,id:i,url:location.href})};window.SGextId&&(r=chrome.runtime.connect(window.SGextId,o)),(r=t?chrome.runtime.connect(n,o):chrome.runtime.connect(o))&&(r.onMessage.addListener(p),r.onDisconnect.addListener(e.disable))};var p=function(t){"enable"in t&&(t.enable?O():e.disable()),t.disable&&e.disable(),t.action&&localAction(t.action),t.windowBlurred&&(u={},m={},h=!0,z()),t.chain&&(D(t.chain.startPoint,t.chain.startPoint?document.elementFromPoint(t.chain.startPoint.x,t.chain.startPoint.y):null,t.chain.line,t.chain.rocker,t.chain.wheel,1e4),h=!0,t.chain.buttonDown&&(t.chain.buttonDown[0]&&(m[0]=!0),t.chain.buttonDown[1]&&(m[1]=!0),t.chain.buttonDown[2]&&(m[2]=!0),void 0==u[0]&&(u[0]=t.chain.buttonDown[0]),void 0==u[1]&&(u[1]=t.chain.buttonDown[1]),void 0==u[2]&&(u[2]=t.chain.buttonDown[2]))),t.syncButton&&(u[t.syncButton.id]=t.syncButton.down),t.displayAlert&&alert(t.displayAlert)};localAction=function(e){if("page-back"==e.id)history.back();else if("page-forward"==e.id)history.forward();else if("page-back-close"==e.id){var t=location.href;history.back(),e.has_history||setTimeout(function(){t==location.href&&r.postMessage({closetab:!0})},400)}else if("stop"==e.id)window.stop();else if("print"==e.id)window.print();else if("goto-top"==e.id){for(n=e.startPoint?document.elementFromPoint(e.startPoint.x,e.startPoint.y):document.documentElement;n!=document.documentElement&&n.parentNode&&(n.scrollHeight<=n.clientHeight||0==n.scrollTop||-1==["auto","scroll"].indexOf(document.defaultView.getComputedStyle(n)["overflow-y"]));)n=n.parentNode;n==document.documentElement&&(document.body.scrollTop=0),n.scrollTop=0}else if("goto-bottom"==e.id){for(n=e.startPoint?document.elementFromPoint(e.startPoint.x,e.startPoint.y):document.documentElement;n!=document.documentElement&&n.parentNode&&(n.scrollHeight<=n.clientHeight||n.scrollTop==n.scrollHeight-n.clientHeight||-1==["auto","scroll"].indexOf(document.defaultView.getComputedStyle(n)["overflow-y"]));)n=n.parentNode;n==document.documentElement&&(document.body.scrollTop=document.body.scrollHeight),n.scrollTop=n.scrollHeight}else if("page-up"==e.id){for(n=e.startPoint?document.elementFromPoint(e.startPoint.x,e.startPoint.y):document.documentElement;n!=document.documentElement&&n.parentNode&&(n.scrollHeight<=n.clientHeight||0==n.scrollTop||-1==["auto","scroll"].indexOf(document.defaultView.getComputedStyle(n)["overflow-y"]));)n=n.parentNode;n==document.documentElement&&(document.body.scrollTop-=.8*Math.min(document.documentElement.clientHeight,document.body.clientHeight)),n.scrollTop-=.8*Math.min(document.documentElement.clientHeight,n.clientHeight)}else if("page-down"==e.id){for(var n=e.startPoint?document.elementFromPoint(e.startPoint.x,e.startPoint.y):document.documentElement;n!=document.documentElement&&n.parentNode&&(n.scrollHeight<=n.clientHeight||n.scrollTop==n.scrollHeight-n.clientHeight||-1==["auto","scroll"].indexOf(document.defaultView.getComputedStyle(n)["overflow-y"]));)n=n.parentNode;console.log("scroll",n,n.scrollTop,document.body.scrollTop,document.documentElement.clientHeight,document.body.clientHeight,n.clientHeight),n==document.documentElement&&(document.body.scrollTop+=.8*Math.min(document.documentElement.clientHeight,document.body.clientHeight)),console.log("scroll2",n.scrollTop,document.body.scrollTop),n.scrollTop+=.8*Math.min(document.documentElement.clientHeight,n.clientHeight),console.log("scroll3",n.scrollTop,document.body.scrollTop)}else if("zoom-in-hack"==e.id){o=document.body.style.zoom?1.1*document.body.style.zoom:1.1;document.body.style.zoom=o,s.style.zoom=1/o}else if("zoom-out-hack"==e.id){var o=document.body.style.zoom?document.body.style.zoom/1.1:1/1.1;document.body.style.zoom=o,s.style.zoom=1/o}else if("zoom-zero-hack"==e.id)document.body.style.zoom=1,s.style.zoom=1;else if("zoom-img-in"==e.id)for(a=0;a<e.images.length;a++)(i=$("img[gestureid='"+e.images[a].gestureid+"']")).attr("origsize")||i.attr("origsize",i.width()+"x"+i.height()),i.css({width:1.2*i.width(),height:1.2*i.height()});else if("zoom-img-out"==e.id)for(a=0;a<e.images.length;a++)(i=$("img[gestureid='"+e.images[a].gestureid+"']")).attr("origsize")||i.attr("origsize",i.width()+"x"+i.height()),i.css({width:i.width()/1.2,height:i.height()/1.2});else if("zoom-img-zero"==e.id)for(a=0;a<e.images.length;a++){var i=$("img[gestureid='"+e.images[a].gestureid+"']");if(!i.attr("origsize"))return;var l=i.attr("origsize").split("x");i.css({width:l[0]+"px",height:l[1]+"px"})}else if("hide-image"==e.id)for(var a=0;a<e.images.length;a++)$("img[gestureid='"+e.images[a].gestureid+"']").css({display:"none"})};var v=function(t){if(m[t.button]=!1,h=2!=t.button,t.target&&"HTML"==t.target.nodeName&&(document.height>window.innerHeight&&t.clientX>window.innerWidth-17||document.width>window.innerWidth&&t.clientY>window.innerHeight-17))z();else{if(c&&r.postMessage({syncButton:{id:t.button,down:!0}}),u[t.button]=!0,g){if(2==t.button)return void z();g=!1}if(S(t),d.rocker&&(u[0]?1:0)+(u[1]?1:0)+(u[2]?1:0)==2){var n,i;if(u[0]&&(0==t.button?i="L":n="L"),u[1]&&(1==t.button?i="M":n="M"),u[2]&&(2==t.button?i="R":n="R"),e.callback||o.validGestures.r[n]&&o.validGestures.r[n][i])return c={timeout:setTimeout(function(){c=!1},500)},G("r"+n+i),window.getSelection().removeAllRanges(),h=!0,m[0]=!0,m[1]=!0,m[2]=!0,t.preventDefault(),void t.stopPropagation()}o.contextOnLink&&2==t.button&&R(t.target)||0==o.holdButton&&0==t.button&&"SELECT"==t.target.nodeName||(0!=o.holdButton||"0"==w[0]&&"0"==w[1]&&"0"==w[2]&&!f)&&(0==o.holdButton&&0==t.button&&"IMG"==t.target.nodeName&&t.preventDefault(),1==t.button&&(o.validGestures.r.M||window.SG.callback)&&-1!=navigator.platform.indexOf("Win")&&t.preventDefault(),D({x:t.clientX,y:t.clientY},t.target,t.button==o.holdButton,(u[0]?1:0)+(u[1]?1:0)+(u[2]?1:0)==1&&(e.callback||o.validGestures.r&&(u[0]&&o.validGestures.r.L||u[1]&&o.validGestures.r.M||u[2]&&o.validGestures.r.R)),t.button==o.holdButton&&(e.callback||o.validGestures.w)))}},b=function(e){if(e.button==o.holdButton&&(d.line&&S(e,!0),d.line&&""!=d.line.code&&(G(d.line.code),e.preventDefault(),0==e.button&&window.getSelection().removeAllRanges(),2==e.button&&(h=!0),m[e.button]=!0)),d.line=null,d.wheel=null,2!=e.button&&(h=!0),!(2!=e.button||g||h||u[0]||u[1]||-1!=navigator.platform.indexOf("Win"))){g=!0,setTimeout(function(){g=!1},600);var t={x:e.screenX,y:e.screenY};navigator.userAgent.match(/linux/i)&&(e.screenX<window.screenLeft+Math.round(e.clientX*window.devicePixelRatio)||0==window.screenLeft&&e.screenY<55+window.screenTop+Math.round(e.clientY*window.devicePixelRatio))&&(t.x+=window.screenLeft,t.y+=window.screenTop),console.log("SEND NATIVE",t),r.postMessage({nativeport:{rightclick:t}})}m[e.button]&&e.preventDefault(),u[e.button]=!1,c&&r.postMessage({syncButton:{id:e.button,down:!1}}),u[0]||u[2]||(d.rocker=null),d.rocker||z()},x=function(e){u={}},M=function(e){m[e.button]&&(e.preventDefault(),e.stopPropagation()),m[e.button]=!1},k=function(e){(h||u[2]&&(d.line||d.rocker||d.wheel))&&!g?(e.preventDefault(),e.stopPropagation(),h=!1):(z(),u={})},P=function(e){0!=o.holdButton||"0"!=w[0]||"0"!=w[1]||"0"!=w[2]||f||window.getSelection().removeAllRanges()},E=function(){s.width=window.innerWidth,s.height=window.innerHeight},L=function(t){if(27==t.keyCode){z(),f=!0;l=function(e){f=!1,window.removeEventListener("keyup",l,!0)};window.addEventListener("keyup",l,!0)}var n=(t.ctrlKey?"1":"0")+(t.altKey?"1":"0")+(t.shiftKey?"1":"0")+(t.metaKey?"1":"0");if(16==t.keyCode||17==t.keyCode||18==t.keyCode||0==t.keyCode||91==t.keyCode||92==t.keyCode||93==t.keyCode){var i=16==t.keyCode?2:17==t.keyCode?0:18==t.keyCode?1:0==t.keyCode?null:91==t.keyCode?null:92==t.keyCode?null:(t.keyCode,null);if(null!=i){n=n.substr(0,i)+"1"+n.substr(i+1);var l=function(e){w=w.substr(0,i)+"0"+w.substr(i+1),window.removeEventListener("keyup",l,!0)};window.addEventListener("keyup",l,!0)}w=n}else(e.callback||("0000"!=n||null==y||"INPUT"!=y.nodeName&&"TEXTAREA"!=y.nodeName)&&o.validGestures.k&&o.validGestures.k[n]&&o.validGestures.k[n].indexOf(t.keyIdentifier+":"+t.keyCode)>=0)&&(D(null,null,!1,!1,!1),G("k"+n+":"+t.keyIdentifier+":"+t.keyCode),t.preventDefault(),t.stopPropagation())},T=function(e){e.target.nodeName&&(y=e.target)},C=function(e){e.target.nodeName&&(y=null)},D=function(e,t,n,i,l,r){if(z(),d.events||(window.addEventListener("mousemove",S,!0),window.addEventListener("mousewheel",N,!0),d.events=!0),"mail.google.com"==location.hostname){var s=document.body.children[1],c=function(){z(),s.removeEventListener("DOMSubtreeModified",c,!0)};s.addEventListener("DOMSubtreeModified",c,!0)}d.startPoint=e?{x:e.x,y:e.y}:null,d.targets=t?[t]:[];var u=window.getSelection();d.selection=u.toString(),d.ranges=[];for(var m=0;m<u.rangeCount;m++)d.ranges.push(u.getRangeAt(m));d.timeout=null,d.line=n&&e?{code:"",points:[{x:e.x,y:e.y}],dirPoints:[{x:e.x,y:e.y}],possibleDirs:o.validGestures,distance:0}:null,d.rocker=i,d.wheel=l,document.documentElement.offsetHeight<document.documentElement.scrollHeight&&(d.line||d.wheel)&&!a.parentNode&&document.body.appendChild(a)},S=function(t,n){if(d.startPoint||(d.startPoint={x:t.clientX,y:t.clientY}),(d.rocker||d.wheel)&&(Math.abs(t.clientX-d.startPoint.x)>0||Math.abs(t.clientY-d.startPoint.y)>2)&&(d.rocker=null,d.wheel=null),d.line){var i={x:t.clientX,y:t.clientY},l=d.line.points[d.line.points.length-1];d.line.points.push(i),d.line.distance+=Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2));var r=i.x-d.line.dirPoints[d.line.dirPoints.length-1].x,a=i.y-d.line.dirPoints[d.line.dirPoints.length-1].y;!o.trailBlock&&s.getContext&&(A(),!s.parentNode&&(Math.abs(r)>10||Math.abs(a)>10)&&document.body.appendChild(s));var c=""==d.line.code?"X":d.line.code.substr(-1,1),u=H(d.line.dirPoints[d.line.dirPoints.length-1],i);u==c?d.line.dirPoints[d.line.dirPoints.length-1]=i:(Math.abs(r)>25||Math.abs(a)>25)&&(n||u.match(/^[RLUD]$/))&&(d.line.possibleDirs&&(d.line.possibleDirs=d.line.possibleDirs[u]),d.line.possibleDirs||e.callback?(d.line.code+=u,d.line.dirPoints.push(i)):(z(),h=!0))}},H=function(e,t){var n=t.x-e.x,o=t.y-e.y;return Math.abs(n)>2*Math.abs(o)?n>0?"R":"L":Math.abs(o)>2*Math.abs(n)?o>0?"D":"U":o<0?n>0?"9":"7":n>0?"3":"1"},N=function(t){if("IFRAME"!=t.target.nodeName&&"FRAME"!=t.target.nodeName||z(),S(t),d.wheel&&0!=t.wheelDelta){var n=t.wheelDelta>0?"U":"D";(e.callback||o.validGestures.w[n])&&(c={timeout:setTimeout(function(){c=!1},500)},G("w"+n),2==o.holdButton&&(h=!0),0==o.holdButton&&window.getSelection().removeAllRanges(),m[o.holdButton]=!0,t.preventDefault(),t.stopPropagation())}},G=function(t){if(t)if(e.callback)e.callback(t),e.callback=null;else{var n={gesture:t,startPoint:d.startPoint,targets:[],links:[],images:[],selection:d.selection};if(d.line&&"w"!=t[0]&&"r"!=t[0]&&(n.line={distance:d.line.distance,segments:t.length}),o.selectToLink&&d.selection){parts=d.selection.split("http");for(a=1;a<parts.length;a++)(l=(l="http"+parts[a]).split(/[\s"']/)[0]).match(/\/\/.+\..+/)&&n.links.push({src:l})}for(a=0;a<d.targets.length;a++){var i=Math.floor(Math.random()*Math.pow(2,30)).toString(32);d.targets[a].setAttribute("gestureid",i),n.targets.push({gestureid:i});var l=R(d.targets[a]);l&&n.links.push({src:l,gestureid:i}),"IMG"==d.targets[a].nodeName&&n.images.push({src:d.targets[a].src,gestureid:i})}c&&(n.buttonDown=u),r.postMessage(n);d.targets}if("w"==t[0])d.line=null,d.rocker=null;else if("r"==t[0])d.line=null,d.wheel=null;else{if(d.ranges&&d.ranges.length>0){var s=window.getSelection();s.removeAllRanges();for(var a=0;a<d.ranges.length;a++)s.addRange(d.ranges[a])}z()}},z=function(){d.events&&(window.removeEventListener("mousemove",S,!0),window.removeEventListener("mousewheel",N,!0),d.events=!1),s.parentNode&&s.parentNode.removeChild(s),s.getContext&&s.getContext("2d").clearRect(0,0,s.width,s.height),a.parentNode&&a.parentNode.removeChild(a),clearTimeout(d.timeout),d.timeout=null,d.selection=null,d.ranges=null,d.line=null,d.rocker=null,d.wheel=null},R=function(e){for(;e;){if(e.href)return e.href;e=e.parentNode}return null},A=function(){if(!A.timeout){var e=Date.now()-B.lasttime,t=Math.min(500,4*B.runtime);e>t?B():A.timeout=setTimeout(function(){B(),A.timeout=null},t-e)}},B=function(){if(s.getContext){var t=Date.now(),n=s.getContext("2d");if(n.clearRect(0,0,s.width,s.height),d.line){if(n.strokeStyle="rgba("+o.trailColor.r+","+o.trailColor.g+","+o.trailColor.b+","+o.trailColor.a+")",n.lineWidth=o.trailWidth,n.lineCap="butt",n.lineJoin="round",n.shadowBlur=o.trailWidth,n.shadowColor="rgba(255,255,255,.3)",o.trailLegacy){n.beginPath(),n.moveTo(d.line.points[0].x,d.line.points[0].y);for(c=1;c<d.line.points.length;c++)n.lineTo(d.line.points[c].x,d.line.points[c].y);n.stroke()}else{var i={x:d.line.dirPoints[0].x,y:d.line.dirPoints[0].y},l=d.line.points[d.line.points.length-1],r=d.line.dirPoints[d.line.dirPoints.length-1],a=H(r,l);Math.max(Math.abs(l.x-r.x),Math.abs(l.y-r.y))>25&&a.match(/^[1379]$/);n.beginPath(),d.line.code.length>0&&("L"==d.line.code[0]||"R"==d.line.code[0]?i.y=d.line.dirPoints[1].y:i.x=d.line.dirPoints[1].x),n.moveTo(i.x,i.y);for(var c=1;c<d.line.code.length;c++){var u=d.line.code[c-1],m=d.line.code[c],h=d.line.dirPoints[c],g=d.line.dirPoints[c+1];if("L"==u||"R"==u)if("L"==m||"R"==m){y=Math.min(Math.abs(h.x-i.x),Math.abs(g.y-i.y)/2);n.arcTo(h.x,i.y,h.x,g.y,y),y=Math.min(Math.abs(g.x-h.x),Math.abs(g.y-i.y)-y),n.arcTo(h.x,g.y,g.x,g.y,y),i.x=(h.x+g.x)/2,i.y=g.y,n.lineTo(i.x,i.y)}else{var w=g.y;"L"!=d.line.code[c+1]&&"R"!=d.line.code[c+1]||(w=d.line.dirPoints[c+2].y);y=Math.min(Math.abs(g.x-i.x),Math.abs(w-i.y)/2);n.arcTo(g.x,i.y,g.x,g.y,.8*y),i.x=g.x,i.y=(i.y+w)/2,n.lineTo(i.x,i.y)}else if("L"==m||"R"==m){var f=g.x;"U"!=d.line.code[c+1]&&"D"!=d.line.code[c+1]||(f=d.line.dirPoints[c+2].x);y=Math.min(Math.abs(f-i.x)/2,Math.abs(g.y-i.y));n.arcTo(i.x,g.y,g.x,g.y,.8*y),i.x=(i.x+f)/2,i.y=g.y,n.lineTo(i.x,i.y)}else{var y=Math.min(Math.abs(g.x-i.x)/2,Math.abs(h.y-i.y));n.arcTo(i.x,h.y,g.x,h.y,y),y=Math.min(Math.abs(g.x-i.x)-y,Math.abs(g.y-h.y)),n.arcTo(g.x,h.y,g.x,g.y,y),i.x=g.x,i.y=(h.y+g.y)/2,n.lineTo(i.x,i.y)}}d.line.code.length>0&&(i=d.line.dirPoints[d.line.dirPoints.length-1],n.lineTo(i.x,i.y)),n.stroke(),(d.line.possibleDirs&&d.line.possibleDirs[a]||e.callback)&&("3"==a||"7"==a?n.lineTo((i.x-i.y+l.x+l.y)/2,(-i.x+i.y+l.x+l.y)/2):"1"!=a&&"9"!=a||n.lineTo((i.x+i.y+l.x-l.y)/2,(i.x+i.y-l.x+l.y)/2),n.stroke())}B.lasttime=Date.now(),B.runtime=.9*(B.runtime||10)+.1*(B.lasttime-t)}}},O=function(){l||(l=!0,window.addEventListener("mousedown",v,!0),window.addEventListener("mouseup",b,!0),window.addEventListener("dragend",x,!0),window.addEventListener("click",M,!0),window.addEventListener("contextmenu",k,!0),window.addEventListener("selectstart",P,!0),window.addEventListener("resize",E,!0),window.addEventListener("keydown",L,!0))};e.disable=function(){l&&(l=!1,window.removeEventListener("mousedown",v,!0),window.removeEventListener("mouseup",b,!0),window.removeEventListener("dragend",x,!0),window.removeEventListener("click",M,!0),window.removeEventListener("contextmenu",k,!0),window.removeEventListener("selectstart",P,!0),window.removeEventListener("resize",E,!0),window.removeEventListener("keydown",L,!0),r.onMessage.removeListener(p),r.onDisconnect.removeListener(e.disable))},e.enabled=function(){return l},function(){if("smoothgesturesplus.com"==location.hostname){var t=document.createElement("script");t.innerText="window.sgp = "+JSON.stringify({license:o.license,clid:o.id,firstinstalled:o.firstinstalled})+"; if(window.setSGP) window.setSGP();",document.head.appendChild(t)}window.addEventListener("focus",T,!0),window.addEventListener("blur",C,!0),e.connect(),(s=document.createElement("canvas")).style&&(s.style.position="fixed",s.style.top=0,s.style.left=0,s.style.zIndex=999999999,s.style.background="transparent",s.style.margin="0",s.style.padding="0"),E(),(a=document.createElement("div")).style.clear="both"}()};if(window.SGinjectscript&&window.SGinjectscript.constructor==HTMLScriptElement){var l=window.SGinjectscript.src.match(/([^a-p]|^)([a-p]{32})([^a-p]|$)/);l&&(window.SGextId=l[2]);for(var r=document.querySelectorAll("script[src^=chrome-extension\\:\\/\\/]"),s=0;s<r.length;s++)r[s].parentNode.removeChild(r[s])}var d=function(){window.SG?window.SG.enabled()||window.SG.connect():window.SG=new i}}()}]);